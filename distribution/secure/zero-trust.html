<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>零信任网络 | 软件架构探索：The Fenix Project</title>
    <meta name="description" content="现代软件架构探索">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.b4f5acd1.css" as="style"><link rel="preload" href="/assets/js/app.ed1c0f9e.js" as="script"><link rel="preload" href="/assets/js/3.c1fba603.js" as="script"><link rel="preload" href="/assets/js/6.1bf7d681.js" as="script"><link rel="preload" href="/assets/js/114.40515f3a.js" as="script"><link rel="preload" href="/assets/js/43.75897a68.js" as="script"><link rel="prefetch" href="/assets/js/1.abf11e42.js"><link rel="prefetch" href="/assets/js/10.b8adbfc8.js"><link rel="prefetch" href="/assets/js/100.857683e5.js"><link rel="prefetch" href="/assets/js/101.48ec43ed.js"><link rel="prefetch" href="/assets/js/102.be67a0f7.js"><link rel="prefetch" href="/assets/js/103.58489da4.js"><link rel="prefetch" href="/assets/js/104.b69af254.js"><link rel="prefetch" href="/assets/js/105.06ae3ca7.js"><link rel="prefetch" href="/assets/js/106.9d8f5f80.js"><link rel="prefetch" href="/assets/js/107.73e32852.js"><link rel="prefetch" href="/assets/js/108.b2b75784.js"><link rel="prefetch" href="/assets/js/109.914c565d.js"><link rel="prefetch" href="/assets/js/11.7ddd9968.js"><link rel="prefetch" href="/assets/js/110.30d6a4b3.js"><link rel="prefetch" href="/assets/js/111.b2ff2b6e.js"><link rel="prefetch" href="/assets/js/112.09823282.js"><link rel="prefetch" href="/assets/js/113.6c7b8cad.js"><link rel="prefetch" href="/assets/js/115.5469abc1.js"><link rel="prefetch" href="/assets/js/116.62f7e300.js"><link rel="prefetch" href="/assets/js/117.5cc58f9e.js"><link rel="prefetch" href="/assets/js/118.093a7042.js"><link rel="prefetch" href="/assets/js/119.f03f3918.js"><link rel="prefetch" href="/assets/js/12.a5b04d3a.js"><link rel="prefetch" href="/assets/js/120.16d7ce32.js"><link rel="prefetch" href="/assets/js/121.6a0d129a.js"><link rel="prefetch" href="/assets/js/122.37793b98.js"><link rel="prefetch" href="/assets/js/123.d502dbbd.js"><link rel="prefetch" href="/assets/js/124.fff93b9d.js"><link rel="prefetch" href="/assets/js/125.310ed078.js"><link rel="prefetch" href="/assets/js/126.0fd0188d.js"><link rel="prefetch" href="/assets/js/127.b4c20575.js"><link rel="prefetch" href="/assets/js/128.afd2bcf5.js"><link rel="prefetch" href="/assets/js/129.7bfdc585.js"><link rel="prefetch" href="/assets/js/13.8c023293.js"><link rel="prefetch" href="/assets/js/130.cbb591ae.js"><link rel="prefetch" href="/assets/js/131.fe501515.js"><link rel="prefetch" href="/assets/js/132.cc66d7ee.js"><link rel="prefetch" href="/assets/js/133.411a16fc.js"><link rel="prefetch" href="/assets/js/134.8825b0bf.js"><link rel="prefetch" href="/assets/js/135.8e696679.js"><link rel="prefetch" href="/assets/js/136.d739c60d.js"><link rel="prefetch" href="/assets/js/137.116ba166.js"><link rel="prefetch" href="/assets/js/138.5abdc176.js"><link rel="prefetch" href="/assets/js/139.47e1bff3.js"><link rel="prefetch" href="/assets/js/14.9248409b.js"><link rel="prefetch" href="/assets/js/140.daba5cf9.js"><link rel="prefetch" href="/assets/js/141.83554212.js"><link rel="prefetch" href="/assets/js/142.2de23411.js"><link rel="prefetch" href="/assets/js/143.0bf69425.js"><link rel="prefetch" href="/assets/js/144.57a598b7.js"><link rel="prefetch" href="/assets/js/145.2b3e534f.js"><link rel="prefetch" href="/assets/js/146.f2dba103.js"><link rel="prefetch" href="/assets/js/147.b2c153a1.js"><link rel="prefetch" href="/assets/js/148.4c8a03fc.js"><link rel="prefetch" href="/assets/js/149.72ff50c6.js"><link rel="prefetch" href="/assets/js/15.4bdfd268.js"><link rel="prefetch" href="/assets/js/150.d24adc81.js"><link rel="prefetch" href="/assets/js/151.5eab0f56.js"><link rel="prefetch" href="/assets/js/152.f4c3a256.js"><link rel="prefetch" href="/assets/js/153.a631a1bc.js"><link rel="prefetch" href="/assets/js/154.541989ad.js"><link rel="prefetch" href="/assets/js/155.c92ad179.js"><link rel="prefetch" href="/assets/js/156.ddbeddeb.js"><link rel="prefetch" href="/assets/js/157.34ff8bf4.js"><link rel="prefetch" href="/assets/js/16.cd8d7f3c.js"><link rel="prefetch" href="/assets/js/17.ffb1d690.js"><link rel="prefetch" href="/assets/js/18.c9bcc813.js"><link rel="prefetch" href="/assets/js/19.9d20e1dc.js"><link rel="prefetch" href="/assets/js/20.46788fdb.js"><link rel="prefetch" href="/assets/js/21.ce3d18bc.js"><link rel="prefetch" href="/assets/js/22.a200d22a.js"><link rel="prefetch" href="/assets/js/23.53866f1d.js"><link rel="prefetch" href="/assets/js/24.ddc6dc98.js"><link rel="prefetch" href="/assets/js/25.2798b527.js"><link rel="prefetch" href="/assets/js/26.d8bef0a2.js"><link rel="prefetch" href="/assets/js/27.32b6fce9.js"><link rel="prefetch" href="/assets/js/28.3eca8acc.js"><link rel="prefetch" href="/assets/js/29.2c3d1e27.js"><link rel="prefetch" href="/assets/js/30.6f4920d9.js"><link rel="prefetch" href="/assets/js/31.7154664b.js"><link rel="prefetch" href="/assets/js/32.a0be9d98.js"><link rel="prefetch" href="/assets/js/33.e58249cd.js"><link rel="prefetch" href="/assets/js/34.617f71f8.js"><link rel="prefetch" href="/assets/js/35.e9b1d82a.js"><link rel="prefetch" href="/assets/js/36.d481eb08.js"><link rel="prefetch" href="/assets/js/37.ade00833.js"><link rel="prefetch" href="/assets/js/38.87d72f94.js"><link rel="prefetch" href="/assets/js/39.f1a22299.js"><link rel="prefetch" href="/assets/js/4.95457f5d.js"><link rel="prefetch" href="/assets/js/40.945b3afa.js"><link rel="prefetch" href="/assets/js/41.a2847b56.js"><link rel="prefetch" href="/assets/js/42.31b471f9.js"><link rel="prefetch" href="/assets/js/44.d530fa61.js"><link rel="prefetch" href="/assets/js/45.ed0a694d.js"><link rel="prefetch" href="/assets/js/46.fae79217.js"><link rel="prefetch" href="/assets/js/47.049c19c3.js"><link rel="prefetch" href="/assets/js/48.f626bdbe.js"><link rel="prefetch" href="/assets/js/49.a9fec216.js"><link rel="prefetch" href="/assets/js/5.7aa8fd40.js"><link rel="prefetch" href="/assets/js/50.15299f54.js"><link rel="prefetch" href="/assets/js/51.0331c0ae.js"><link rel="prefetch" href="/assets/js/52.97b83416.js"><link rel="prefetch" href="/assets/js/53.ade599cc.js"><link rel="prefetch" href="/assets/js/54.f37dcfa3.js"><link rel="prefetch" href="/assets/js/55.37550b6d.js"><link rel="prefetch" href="/assets/js/56.cc631479.js"><link rel="prefetch" href="/assets/js/57.a9b089d0.js"><link rel="prefetch" href="/assets/js/58.d1b1148c.js"><link rel="prefetch" href="/assets/js/59.37c4eca7.js"><link rel="prefetch" href="/assets/js/60.64c84d4e.js"><link rel="prefetch" href="/assets/js/61.6e850184.js"><link rel="prefetch" href="/assets/js/62.cce34aba.js"><link rel="prefetch" href="/assets/js/63.fb20230f.js"><link rel="prefetch" href="/assets/js/64.039ecb58.js"><link rel="prefetch" href="/assets/js/65.7a852941.js"><link rel="prefetch" href="/assets/js/66.f56779bf.js"><link rel="prefetch" href="/assets/js/67.377c78db.js"><link rel="prefetch" href="/assets/js/68.afe548a8.js"><link rel="prefetch" href="/assets/js/69.948f491e.js"><link rel="prefetch" href="/assets/js/7.31a3c84a.js"><link rel="prefetch" href="/assets/js/70.6970589f.js"><link rel="prefetch" href="/assets/js/71.22d591c9.js"><link rel="prefetch" href="/assets/js/72.1eb5c7df.js"><link rel="prefetch" href="/assets/js/73.e7229f5a.js"><link rel="prefetch" href="/assets/js/74.9dcdb7c8.js"><link rel="prefetch" href="/assets/js/75.73982946.js"><link rel="prefetch" href="/assets/js/76.ccd5e07c.js"><link rel="prefetch" href="/assets/js/77.7fad0bd0.js"><link rel="prefetch" href="/assets/js/78.d626772e.js"><link rel="prefetch" href="/assets/js/79.b7bbddc1.js"><link rel="prefetch" href="/assets/js/8.ed8b0c9f.js"><link rel="prefetch" href="/assets/js/80.cb8247ce.js"><link rel="prefetch" href="/assets/js/81.1c19620e.js"><link rel="prefetch" href="/assets/js/82.deb88e2a.js"><link rel="prefetch" href="/assets/js/83.0ed0a9ca.js"><link rel="prefetch" href="/assets/js/84.0a8067f8.js"><link rel="prefetch" href="/assets/js/85.942f2202.js"><link rel="prefetch" href="/assets/js/86.1d500742.js"><link rel="prefetch" href="/assets/js/87.3012af7e.js"><link rel="prefetch" href="/assets/js/88.f65ab4e7.js"><link rel="prefetch" href="/assets/js/89.dd3337d9.js"><link rel="prefetch" href="/assets/js/9.b4ca59ae.js"><link rel="prefetch" href="/assets/js/90.03979e3d.js"><link rel="prefetch" href="/assets/js/91.292f4e3e.js"><link rel="prefetch" href="/assets/js/92.52d88fc4.js"><link rel="prefetch" href="/assets/js/93.c7d13121.js"><link rel="prefetch" href="/assets/js/94.ba61c52f.js"><link rel="prefetch" href="/assets/js/95.0f0e412a.js"><link rel="prefetch" href="/assets/js/96.85ee1c5c.js"><link rel="prefetch" href="/assets/js/97.d58cdad7.js"><link rel="prefetch" href="/assets/js/98.eeb3ee2a.js"><link rel="prefetch" href="/assets/js/99.caec02cf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b4f5acd1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo-color.png" alt="软件架构探索：The Fenix Project" class="logo"> <span class="site-name can-hide">软件架构探索：The Fenix Project</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="代码" class="dropdown-title"><span class="title">代码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/awesome-fenix" target="_blank" rel="noopener noreferrer" class="nav-link external">
  文档工程 Awesome-Fenix
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/fenix-bookstore-frontend" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端工程 Fenix's Bookstore
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://bookstore.icyfenix.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端工程在线示例 Fenix's Bookstore
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/monolithic_arch_springboot" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：单体架构 Spring Boot
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/microservice_arch_springcloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Spring Cloud
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/microservice_arch_kubernetes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Kubernetes
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/servicemesh_arch_istio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Istio
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/serverless_arch_awslambda" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：无服务架构 AWS Lambda
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://raw.githubusercontent.com/fenixsoft/awesome-fenix/gh-pages/pdf/the-fenix-project.pdf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PDF下载
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/board/" class="nav-link">
  讨论区
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="代码" class="dropdown-title"><span class="title">代码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/awesome-fenix" target="_blank" rel="noopener noreferrer" class="nav-link external">
  文档工程 Awesome-Fenix
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/fenix-bookstore-frontend" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端工程 Fenix's Bookstore
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://bookstore.icyfenix.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端工程在线示例 Fenix's Bookstore
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/monolithic_arch_springboot" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：单体架构 Spring Boot
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/microservice_arch_springcloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Spring Cloud
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/microservice_arch_kubernetes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Kubernetes
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/servicemesh_arch_istio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Istio
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/serverless_arch_awslambda" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：无服务架构 AWS Lambda
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://raw.githubusercontent.com/fenixsoft/awesome-fenix/gh-pages/pdf/the-fenix-project.pdf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PDF下载
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/board/" class="nav-link">
  讨论区
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/summary/" class="sidebar-link">目录</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前言</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/introduction/about-me.html" class="sidebar-link">关于作者</a></li><li><a href="/introduction/about-the-fenix-project.html" class="sidebar-link">什么是“The Fenix Project”</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>探索起步</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>阅读指引</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/changelog/" class="sidebar-link">更新日志</a></li><li><a href="/exploration/guide/quick-start.html" class="sidebar-link">如何开始</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/exploration/projects/" class="sidebar-heading clickable"><span>技术演示工程</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/exploration/projects/fenix-bookstore-frontend.html" class="sidebar-link">前端工程</a></li><li><a href="/exploration/projects/monolithic_arch_springboot.html" class="sidebar-link">单体架构：Spring Boot</a></li><li><a href="/exploration/projects/microservice_arch_springcloud.html" class="sidebar-link">微服务：Spring Cloud</a></li><li><a href="/exploration/projects/microservice_arch_kubernetes.html" class="sidebar-link">微服务：Kubernetes</a></li><li><a href="/exploration/projects/servicemesh_arch_istio.html" class="sidebar-link">服务网格：Istio</a></li><li><a href="/exploration/projects/serverless_arch.html" class="sidebar-link">无服务：AWS Lambda</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>演进中的架构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/architecture/architect-history/" class="sidebar-heading clickable open"><span>服务架构演进史</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architecture/architect-history/primitive-distribution.html" class="sidebar-link">原始分布式时代</a></li><li><a href="/architecture/architect-history/monolithic.html" class="sidebar-link">单体系统时代</a></li><li><a href="/architecture/architect-history/soa.html" class="sidebar-link">SOA时代</a></li><li><a href="/architecture/architect-history/microservices.html" class="sidebar-link">微服务时代</a></li><li><a href="/architecture/architect-history/post-microservices.html" class="sidebar-link">后微服务时代</a></li><li><a href="/architecture/architect-history/serverless.html" class="sidebar-link">无服务时代</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>架构师的视角</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/architect-perspective/general-architecture/api-style/" class="sidebar-heading clickable open"><span>远程访问</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architect-perspective/general-architecture/api-style/rpc.html" class="sidebar-link">远程服务调用</a></li><li><a href="/architect-perspective/general-architecture/api-style/rest.html" class="sidebar-link">REST设计风格</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/architect-perspective/general-architecture/transaction/" class="sidebar-heading clickable"><span>事务处理</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architect-perspective/general-architecture/transaction/local.html" class="sidebar-link">本地事务</a></li><li><a href="/architect-perspective/general-architecture/transaction/global.html" class="sidebar-link">全局事务</a></li><li><a href="/architect-perspective/general-architecture/transaction/share.html" class="sidebar-link">共享事务</a></li><li><a href="/architect-perspective/general-architecture/transaction/distributed.html" class="sidebar-link">分布式事务</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/architect-perspective/general-architecture/diversion-system/" class="sidebar-heading clickable"><span>透明多级分流系统</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architect-perspective/general-architecture/diversion-system/client-cache.html" class="sidebar-link">客户端缓存</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/dns-lookup.html" class="sidebar-link">域名解析</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/transmission-optimization.html" class="sidebar-link">传输链路</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/cdn.html" class="sidebar-link">内容分发网络</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/load-balancing.html" class="sidebar-link">负载均衡</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/cache-middleware.html" class="sidebar-link">缓存</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/architect-perspective/general-architecture/system-security/" class="sidebar-heading clickable"><span>安全架构</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architect-perspective/general-architecture/system-security/authentication.html" class="sidebar-link">认证</a></li><li><a href="/architect-perspective/general-architecture/system-security/authorization.html" class="sidebar-link">授权</a></li><li><a href="/architect-perspective/general-architecture/system-security/credentials.html" class="sidebar-link">凭证</a></li><li><a href="/architect-perspective/general-architecture/system-security/confidentiality.html" class="sidebar-link">保密</a></li><li><a href="/architect-perspective/general-architecture/system-security/transport-security.html" class="sidebar-link">传输</a></li><li><a href="/architect-perspective/general-architecture/system-security/verification.html" class="sidebar-link">验证</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>分布式的基石</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/consensus/" class="sidebar-heading clickable"><span>分布式共识算法</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/consensus/paxos.html" class="sidebar-link">Paxos</a></li><li><a href="/distribution/consensus/raft.html" class="sidebar-link">Multi Paxos与Raft</a></li><li><a href="/distribution/consensus/gossip.html" class="sidebar-link">Gossip协议</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/connect/" class="sidebar-heading clickable"><span>从类库到服务</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/connect/service-discovery.html" class="sidebar-link">服务发现</a></li><li><a href="/distribution/connect/service-routing.html" class="sidebar-link">网关路由</a></li><li><a href="/distribution/connect/load-balancing.html" class="sidebar-link">客户端负载均衡</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/traffic-management/" class="sidebar-heading clickable"><span>服务与流量治理</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/traffic-management/failure.html" class="sidebar-link">服务容错</a></li><li><a href="/distribution/traffic-management/traffic-control.html" class="sidebar-link">流量控制</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/secure/" class="sidebar-heading clickable router-link-active open"><span>可靠通讯</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/secure/zero-trust.html" class="active sidebar-link">零信任网络</a></li><li><a href="/distribution/secure/service-security.html" class="sidebar-link">服务安全</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/observability/" class="sidebar-heading clickable"><span>可观测性</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/observability/logging.html" class="sidebar-link">事件日志</a></li><li><a href="/distribution/observability/tracing.html" class="sidebar-link">链路追踪</a></li><li><a href="/distribution/observability/metrics.html" class="sidebar-link">聚合度量</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>不可变基础设施</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/msa-to-cn.html" class="sidebar-link">从微服务到云原生</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/container/" class="sidebar-heading clickable"><span>虚拟化容器</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/container/history.html" class="sidebar-link">容器的崛起</a></li><li><a href="/immutable-infrastructure/container/container-build-system.html" class="sidebar-link">以容器构建系统</a></li><li><a href="/immutable-infrastructure/container/application-centric.html" class="sidebar-link">应用为中心的封装</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/network/" class="sidebar-heading clickable"><span>容器间网络</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/network/linux-vnet.html" class="sidebar-link">Linux网络虚拟化</a></li><li><a href="/immutable-infrastructure/network/cni.html" class="sidebar-link">容器网络与生态</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/storage/" class="sidebar-heading clickable"><span>容器持久化存储</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/storage/storage-evolution.html" class="sidebar-link">Kubernetes存储设计</a></li><li><a href="/immutable-infrastructure/storage/csi.html" class="sidebar-link">容器存储与生态</a></li></ul></section></li><li><a href="/immutable-infrastructure/schedule/hardware-schedule.html" class="sidebar-link">资源与调度</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/mesh/" class="sidebar-heading clickable"><span>服务网格</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/mesh/communication.html" class="sidebar-link">透明通讯的涅槃</a></li><li><a href="/immutable-infrastructure/mesh/ecosystems.html" class="sidebar-link">服务网格与生态</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>技术方法论</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/methodology/forward-msa/" class="sidebar-heading clickable open"><span>向微服务迈进</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/methodology/forward-msa/objective.html" class="sidebar-link">目的：微服务的驱动力</a></li><li><a href="/methodology/forward-msa/prerequest.html" class="sidebar-link">前提：微服务需要的条件</a></li><li><a href="/methodology/forward-msa/granularity.html" class="sidebar-link">边界：微服务的粒度</a></li><li><a href="/methodology/forward-msa/governance.html" class="sidebar-link">治理：理解系统复杂性</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>专题随笔</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/tricks/graalvm/" class="sidebar-heading clickable open"><span>Graal VM</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tricks/graalvm/graal-compiler.html" class="sidebar-link">新一代即时编译器</a></li><li><a href="/tricks/graalvm/substratevm.html" class="sidebar-link">向原生迈进</a></li><li><a href="/tricks/graalvm/graalvm-native.html" class="sidebar-link">没有虚拟机的Java</a></li><li><a href="/tricks/graalvm/spring-over-graal.html" class="sidebar-link">Spring over Graal</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>附录</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/appendix/deployment-env-setup/" class="sidebar-heading clickable open"><span>部署环境</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/appendix/deployment-env-setup/setup-docker.html" class="sidebar-link">部署Docker CE容器环境</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/appendix/deployment-env-setup/setup-kubernetes/" class="sidebar-heading clickable"><span>部署Kubernetes集群</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li><li><a href="/appendix/istio.html" class="sidebar-link">部署Istio</a></li><li><a href="/appendix/operation-env-setup/elk-setup.html" class="sidebar-link">部署Elastic Stack</a></li><li><a href="/appendix/operation-env-setup/prometheus-setup.html" class="sidebar-link">部署Prometheus</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="零信任网络">零信任网络</h1> <p>长期以来，主流的网络安全观念是根据某类特征（如机器所处的网络位置、IP/MAC地址等）把网络划分为不同的区域，不同的区域对应着不同风险级别和允许访问的网络资源，将安全防护措施集中部署在各个区域的边界之上，我们熟知的VPN、DMZ、防火墙、内外网等概念都是由此而生的，这种安全模型今天被称为是<code>基于边界的安全模型</code>（Perimeter-Based Security Model）。</p> <p>“边界安全”是很合理的想法，因为安全不可能是绝对的，我们必须在可用性和安全性之间权衡取舍，否则一台关掉电源不能对外提供服务的“服务器”无疑就是最为安全的。边界安全着重对经过网络区域边界的流量进行检查，对可信任区域（内网）内部机器之间的流量则给予直接信任或者至少是较为宽松的处理，以减小安全设施对整个应用系统复杂度的影响，以及网络传输性能的额外损耗，这当然是很合理的。不过，今天单纯的边界安全已不足以满足大规模微服务系统的技术异构和节点膨胀的发展需要。边界安全的核心问题在于边界上的防御措施即使自身能做到永远滴水不漏牢不可破，也很难保证内网中它所尽力保护的某一台服务器不会成为“猪队友”，一旦“可信的”网络区域中的某台服务器被攻陷，那边界安全措施就成了马其诺防线，攻击者很快就能以一台机器为跳板，侵入到整个内网，这是边界安全基因决定的固有的缺陷，从边界安全提出的第一天这就是已预料到的问题。在微服务时代，我们已经转变开发观念，承认服务了总会出错，现在我们也必须转变安全观念，承认一定会有被攻陷的服务，为此我们需要寻找到与之符合的新的网络安全模型。</p> <p>2010年，<a href="https://en.wikipedia.org/wiki/Forrester_Research" target="_blank" rel="noopener noreferrer">Forrester Research<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的首席分析师John Kindervag提出了<code>零信任安全模型</code>的概念（Zero-Trust Security Model，最初提出时被称为“Zero-Trust Architecture”，即零信任架构），这个概念当时并没有引发太大的关注，但随着微服务架构的兴起，越来越多的开发、运维人员注意到零信任安全模型与微服务所追求的安全目标完全吻合。</p> <p>“零信任安全”的中心思想是不应当以某种特征来自动信任任何流量，除非明确知道请求者（请求者不一定是人，更可能是另一台服务）的身份和授权情况，否则一律不会有默认的信任关系。在2019年，谷歌发表了一篇在安全与研发领域里都备受关注的论文《<a href="https://cloud.google.com/security/beyondprod" target="_blank" rel="noopener noreferrer">BeyondProd: A New Approach to Cloud-Native Security<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>》（BeyondProd是谷歌安全框架的名字，从2014年起已连续发表了6篇关于BeyondProd的论文），此文中列举了传统的基于边界的网络模型与云原生时代下基于零信任网络的安全模型之间的差异，并描述了要完成边界安全模型到零信任安全模型的迁移所需实现的具体需求点，具体如下表所示。</p> <table><thead><tr><th style="text-align:left;">传统、边界安全模型</th> <th style="text-align:left;">云原生、零信任安全模型</th> <th style="text-align:left;">具体需求</th></tr></thead> <tbody><tr><td style="text-align:left;">基于防火墙等设施，认为边界内可信</td> <td style="text-align:left;">服务到服务通信需认证，环境内的服务之间默认没有信任</td> <td style="text-align:left;">保护网络边界（仍然有效）；服务之间默认没有互信</td></tr> <tr><td style="text-align:left;">用于特定的IP和硬件（机器）</td> <td style="text-align:left;">资源利用率、重用、共享更好，包括IP和硬件</td> <td style="text-align:left;">受信任的机器运行来源已知的代码</td></tr> <tr><td style="text-align:left;">基于IP的身份</td> <td style="text-align:left;">基于服务的身份</td> <td style="text-align:left;">同上</td></tr> <tr><td style="text-align:left;">服务运行在已知的、可预期的服务器上</td> <td style="text-align:left;">服务可运行在环境中的任何地方，包括私有云/公有云混合部署</td> <td style="text-align:left;">同上</td></tr> <tr><td style="text-align:left;">安全相关的需求由应用来实现，每个应用单独实现</td> <td style="text-align:left;">由基础设施来实现，基础设施中集成了共享的安全性要求。</td> <td style="text-align:left;">集中策略实施点（Choke Points），一致地应用到所有服务</td></tr> <tr><td style="text-align:left;">对服务如何构建、评审、实施的安全需求的约束力较弱</td> <td style="text-align:left;">安全相关的需求一致地应用到所以服务</td> <td style="text-align:left;">同上</td></tr> <tr><td style="text-align:left;">安全组件的可观测性较弱</td> <td style="text-align:left;">有安全策略及其是否生效的全局视图</td> <td style="text-align:left;">同上</td></tr> <tr><td style="text-align:left;">发布不标准，发布频率较低</td> <td style="text-align:left;">标准化的构建和发布流程，每个微服务变更独立，变更更频繁</td> <td style="text-align:left;">简单、自动、标准化的变更发布流程</td></tr> <tr><td style="text-align:left;">工作负载通常作为虚拟机部署或部署到物理主机，并使用物理机或管理程序进行隔离</td> <td style="text-align:left;">封装的工作负载（就是Pod）及其进程在共享的操作系统中运行，并有管理平台提供的某种机制来进行隔离</td> <td style="text-align:left;">在共享的操作系统的工作负载之间进行隔离</td></tr></tbody></table> <div class="custom-block center"><p>两种安全模型的对比以及其中引发的需求</p></div> <p>这个表格其实相当于系统地阐述了零信任安全在微服务、云原生环境中的具体落地过程了，后续的整篇论文（除了介绍谷歌自己的实现框架外）就是以此为主线来展开论述的，由于论文原文写的较为分散晦涩，笔者对其中主要观点按照自己的理解转述如下：</p> <ul><li><strong>零信任不等同于放弃在边界上保护网络</strong>：虽然防火墙等位于网络边界的设施是边界安全而非零信任安全中的概念，但它仍然是一种行之有效的提升安全性的做法。在微服务集群的前端部署防火墙，把内部服务节点间的流量与来自互联网的网络攻击和未经授权的流量隔离开来依然是值得提倡的，这能够使其避开来自互联网的未经授权的流量和潜在的攻击，如最典型的<a href="https://en.wikipedia.org/wiki/Denial-of-service_attack" target="_blank" rel="noopener noreferrer">DDOS拒绝服务攻击<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</li> <li><strong>身份只来源于服务</strong>：以前传统应用都是部署在特定的服务器上，这些机器的IP、MAC地址很少发生变化，此时在安全角度来看系统是相对静态的。基于这个前提，安全策略才使用IP地址、主机名等作为身份标识符（Identifiers）。如今在微服务尤其是云原生环境中，虚拟化基础设施被大范围应用，这使得服务部署的IP、数量等随时都可能发生变化，因此，身份只能来源于服务本身，而不是服务所在的IP地址、主机名或者其他元素。</li> <li><strong>服务之间也没有固有的信任关系</strong>：只有已知的、明确授权的调用者才能访问服务。这样可以阻止攻击者通过某个服务节点中的代码漏洞来越权调用到其他服务。如果某个服务节点被成功入侵，这一原则可阻止攻击者执行扩大其入侵范围，与微服务设计模式中使用断路器、舱壁隔离实现容错来避免雪崩效应类似，在安全方面也应当采用这种“互不信任”的模式来隔离入侵危害的影响面。</li> <li><strong>集中、共享的安全策略实施点</strong>：这点与微服务的“分散治理”刚好相反，微服务提倡每个服务自己独立的负责自身的功能性、非功能性需求。而谷歌这个观点相当于为分散治理原则做了一个补充——涉及安全的非功能性需求（如身份管理、安全传输层、数据安全层）最好除外。一方面，要写出高度安全的代码极为不易，为此付出的精力甚至可能远高于业务逻辑本身，如果你有兴趣阅读<a href="/exploration/projects/microservice_arch_springcloud.html">基于Spring Cloud的Fenix's Bookstore的源码</a>，很容易就会发现在Security工程中的代码量是所有微服务中最多的。另一方面，而且还是更重要的一个方面是让服务各自处理安全问题很容易会出现实现不一致或者出现问题时要修改多处地方，甚至有些安全问题如果不立足于全局是很难彻底解决的（下一节面向于具体操作的“<a href="/distribution/secure/service-security.html">服务安全</a>”中将会详细说明），因此谷歌明确提出应该有集中式的“安全策略实施点”（原文中称之为Choke Points），安全需求应该从微服务的应用代码下沉至云原生的基础设施里，这也契合其论文的标题“Cloud-Native Security”。</li> <li><strong>受信的机器运行来源已知的代码</strong>：限制了服务只能使用认证过的代码和配置， 并且只能运行在认证过的、验证过的环境中。</li> <li><strong>自动化、标准化的变更管理</strong>：这点也是为何提倡通过基础设施而不是应用代码去实现安全功能的另一个重要理由。如果将安全放在应用上，由于应用本身的分散治理，这决定了安全也必然是难以统一和标准化的。做不到标准化就意味着做不到自动化，相反，一套独立于应用的安全基础设施，可以让运维人员轻松地了解基础设施变更对安全性的影响，并且可以在几乎不影响生产环境的情况下发布安全补丁程序。</li></ul> <p>谷歌认为零信任安全网络的最终目标是实现整个基础设施之上的自动化安全控制，服务所需的安全能力可以与服务自身一起，以相同方式自动进行伸缩扩展。对于服务来说，做到安全是日常，风险是例外（Secure by Default and Insecure by Exception），对于人类来说，做到袖手旁观是日常，主动干预是例外（Human Actions Should Be by Exception, Not Routine），这的确是很美好的愿景，但问题在于其代价是什么？代价有多大？很显然，零信任网络模型之所以在今天才真正严肃地讨论，并不是因为它本身有多么巧妙、有什么此前没有想到的好办法，而在于前文中提到的边界安全模型的”合理之处“，即“安全设施对整个应用系统复杂度的影响，以及网络传输性能的额外损耗”。以前的软件开发架构是很承受担零信任安全模型的代价的，只有在云原生时代，虚拟化的基础设施长足发展，可以将复杂性隐藏于基础设施之内，虚拟化的网络性能足够高，可以弥补安全通讯的额外损耗的前提下，零信任网络的安全模型才有它生根发芽的土壤。</p> <p>综上，谷歌所诠释的云原生下的零信任安全，在引入比边界安全更细致更复杂安全措施的同时，也强调着自动化的重要性。换句话说，是既要保证系统中各个微服务之间安全通讯，同时也不削弱微服务架构本身的属性，如集中式的安全并不抵触于分散治理原则，安全机制并不影响服务的自动伸缩和有效的封装，等等。总而言之，所有这些都不是“大饼”，都可以实现，而且不会在底层基础架构的安全性和实现细节方面给微服务开发者带来额外的负担。</p> <p>如何构建零信任网络安全是一个非常大而且比较新的话题，受文字篇幅所限，在这里就不做更多的展开了。下一节，笔者将从实践角度出发，介绍在前微服务时代（以Spring Cloud为例）和后微服务时代（即服务网格架构，以Kubernetes with Istio为例），具体是如何实现安全传输、认证和授权的，通过这两者的对比，我们能够更具体、更量化地体会到本文中所说的零信任安全模型的价值与权衡。</p></div> <footer class="page-edit"><!----> <div class="git-hub-star"><span class="prefix">
      Kudos to
      <span style="position:relative;top:4px;right:-4px;"><a href="https://github.com/fenixsoft/awesome-fenix" aria-label="Star fenixsoft/awesome-fenix on GitHub" data-icon="octicon-star" data-show-count="true">
      Star
    </a></span></span></div> <div class="last-updated"><span class="prefix">总字数:</span> <span class="words">3,600</span> <span class="prefix">字　</span> <span class="prefix">最后更新:</span> <span class="time">8/26/2020, 3:24:39 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
    ←
    <a href="/distribution/secure/" class="prev router-link-active">
      可靠通讯
    </a></span> <span class="next"><a href="/distribution/secure/service-security.html">
      服务安全
    </a>
    →
  </span></p></div> </main></div><div class="global-ui"><div></div><!----></div></div>
    <script src="/assets/js/app.ed1c0f9e.js" defer></script><script src="/assets/js/3.c1fba603.js" defer></script><script src="/assets/js/6.1bf7d681.js" defer></script><script src="/assets/js/114.40515f3a.js" defer></script><script src="/assets/js/43.75897a68.js" defer></script>
  </body>
</html>
