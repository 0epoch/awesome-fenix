<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>部署Docker CE容器环境 | 软件架构探索：The Fenix Project</title>
    <meta name="description" content="现代软件架构探索">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.b4f5acd1.css" as="style"><link rel="preload" href="/assets/js/app.97da9423.js" as="script"><link rel="preload" href="/assets/js/3.0e72994b.js" as="script"><link rel="preload" href="/assets/js/5.51fe641f.js" as="script"><link rel="preload" href="/assets/js/57.a009044c.js" as="script"><link rel="preload" href="/assets/js/32.11110fd7.js" as="script"><link rel="prefetch" href="/assets/js/1.e100144b.js"><link rel="prefetch" href="/assets/js/10.b879ae28.js"><link rel="prefetch" href="/assets/js/100.f45710d3.js"><link rel="prefetch" href="/assets/js/101.ddda65e5.js"><link rel="prefetch" href="/assets/js/102.117297fa.js"><link rel="prefetch" href="/assets/js/103.2a1ee9a3.js"><link rel="prefetch" href="/assets/js/104.2b425dbe.js"><link rel="prefetch" href="/assets/js/105.617de029.js"><link rel="prefetch" href="/assets/js/106.99018019.js"><link rel="prefetch" href="/assets/js/107.4f49e8d2.js"><link rel="prefetch" href="/assets/js/108.1863507c.js"><link rel="prefetch" href="/assets/js/109.44a1441c.js"><link rel="prefetch" href="/assets/js/11.fb1c2b36.js"><link rel="prefetch" href="/assets/js/110.0582a0af.js"><link rel="prefetch" href="/assets/js/111.53c29bd9.js"><link rel="prefetch" href="/assets/js/112.d610e71b.js"><link rel="prefetch" href="/assets/js/113.3755a4a9.js"><link rel="prefetch" href="/assets/js/114.95a5e9ea.js"><link rel="prefetch" href="/assets/js/115.d4f11b21.js"><link rel="prefetch" href="/assets/js/116.9332126d.js"><link rel="prefetch" href="/assets/js/117.5cb40f69.js"><link rel="prefetch" href="/assets/js/118.4487a4ff.js"><link rel="prefetch" href="/assets/js/119.cbb29317.js"><link rel="prefetch" href="/assets/js/12.e26473ed.js"><link rel="prefetch" href="/assets/js/120.b2edf307.js"><link rel="prefetch" href="/assets/js/121.f07856eb.js"><link rel="prefetch" href="/assets/js/122.f5b0afa4.js"><link rel="prefetch" href="/assets/js/123.19cd6b55.js"><link rel="prefetch" href="/assets/js/124.bff14109.js"><link rel="prefetch" href="/assets/js/125.b9559c48.js"><link rel="prefetch" href="/assets/js/126.8e3fcc4f.js"><link rel="prefetch" href="/assets/js/127.68e96d8a.js"><link rel="prefetch" href="/assets/js/128.a6faa627.js"><link rel="prefetch" href="/assets/js/129.7becde5b.js"><link rel="prefetch" href="/assets/js/13.002905ea.js"><link rel="prefetch" href="/assets/js/130.1bc79998.js"><link rel="prefetch" href="/assets/js/131.db6e89b3.js"><link rel="prefetch" href="/assets/js/132.b5b0536c.js"><link rel="prefetch" href="/assets/js/133.a3bc87b1.js"><link rel="prefetch" href="/assets/js/134.47162a3f.js"><link rel="prefetch" href="/assets/js/135.8e4849ba.js"><link rel="prefetch" href="/assets/js/136.a1366c5b.js"><link rel="prefetch" href="/assets/js/137.8b2ef022.js"><link rel="prefetch" href="/assets/js/138.b3cadb8d.js"><link rel="prefetch" href="/assets/js/139.46284d2c.js"><link rel="prefetch" href="/assets/js/14.77658c7d.js"><link rel="prefetch" href="/assets/js/140.73e186b0.js"><link rel="prefetch" href="/assets/js/141.bafd0c77.js"><link rel="prefetch" href="/assets/js/142.b30e1060.js"><link rel="prefetch" href="/assets/js/143.44d78d8d.js"><link rel="prefetch" href="/assets/js/144.3602c70b.js"><link rel="prefetch" href="/assets/js/145.06f5d7f4.js"><link rel="prefetch" href="/assets/js/146.f3198521.js"><link rel="prefetch" href="/assets/js/147.f249b323.js"><link rel="prefetch" href="/assets/js/148.80e55ed0.js"><link rel="prefetch" href="/assets/js/149.b8464add.js"><link rel="prefetch" href="/assets/js/15.80bc80fa.js"><link rel="prefetch" href="/assets/js/150.4d6fcb3a.js"><link rel="prefetch" href="/assets/js/151.a9dc9f62.js"><link rel="prefetch" href="/assets/js/152.5d3dfbfc.js"><link rel="prefetch" href="/assets/js/153.d28c8133.js"><link rel="prefetch" href="/assets/js/154.7132409b.js"><link rel="prefetch" href="/assets/js/155.b701f640.js"><link rel="prefetch" href="/assets/js/16.b83e3e0d.js"><link rel="prefetch" href="/assets/js/17.e74123d7.js"><link rel="prefetch" href="/assets/js/18.4fea9a70.js"><link rel="prefetch" href="/assets/js/19.eb77ac00.js"><link rel="prefetch" href="/assets/js/20.e0d9daf8.js"><link rel="prefetch" href="/assets/js/21.4cb343b0.js"><link rel="prefetch" href="/assets/js/22.1a11358e.js"><link rel="prefetch" href="/assets/js/23.642ff360.js"><link rel="prefetch" href="/assets/js/24.03cd51b6.js"><link rel="prefetch" href="/assets/js/25.d484d57f.js"><link rel="prefetch" href="/assets/js/26.9160dc34.js"><link rel="prefetch" href="/assets/js/27.d9ecfa58.js"><link rel="prefetch" href="/assets/js/28.4b4e0eac.js"><link rel="prefetch" href="/assets/js/29.f40eb79e.js"><link rel="prefetch" href="/assets/js/30.eea01388.js"><link rel="prefetch" href="/assets/js/31.7483b341.js"><link rel="prefetch" href="/assets/js/33.b2e07fc9.js"><link rel="prefetch" href="/assets/js/34.c063664a.js"><link rel="prefetch" href="/assets/js/35.00ca4370.js"><link rel="prefetch" href="/assets/js/36.5317a6b9.js"><link rel="prefetch" href="/assets/js/37.5402288d.js"><link rel="prefetch" href="/assets/js/38.67812acd.js"><link rel="prefetch" href="/assets/js/39.e6fac20d.js"><link rel="prefetch" href="/assets/js/4.caa11e93.js"><link rel="prefetch" href="/assets/js/40.f7772514.js"><link rel="prefetch" href="/assets/js/41.b4be57ee.js"><link rel="prefetch" href="/assets/js/42.40455889.js"><link rel="prefetch" href="/assets/js/43.71fb6cb2.js"><link rel="prefetch" href="/assets/js/44.c86e0b2a.js"><link rel="prefetch" href="/assets/js/45.0ba9f919.js"><link rel="prefetch" href="/assets/js/46.4997397e.js"><link rel="prefetch" href="/assets/js/47.8606aac4.js"><link rel="prefetch" href="/assets/js/48.dd282e21.js"><link rel="prefetch" href="/assets/js/49.443e1663.js"><link rel="prefetch" href="/assets/js/50.19f3e2ed.js"><link rel="prefetch" href="/assets/js/51.19ddc285.js"><link rel="prefetch" href="/assets/js/52.f0dc1edd.js"><link rel="prefetch" href="/assets/js/53.73755cbd.js"><link rel="prefetch" href="/assets/js/54.a3ad0e72.js"><link rel="prefetch" href="/assets/js/55.54bacb3e.js"><link rel="prefetch" href="/assets/js/56.b6e3c46d.js"><link rel="prefetch" href="/assets/js/58.14ed667b.js"><link rel="prefetch" href="/assets/js/59.6092ea11.js"><link rel="prefetch" href="/assets/js/6.bb91a133.js"><link rel="prefetch" href="/assets/js/60.4d1ca6cd.js"><link rel="prefetch" href="/assets/js/61.5e482d7a.js"><link rel="prefetch" href="/assets/js/62.d38c0f82.js"><link rel="prefetch" href="/assets/js/63.cf2f1c74.js"><link rel="prefetch" href="/assets/js/64.d7f5ba93.js"><link rel="prefetch" href="/assets/js/65.a4697157.js"><link rel="prefetch" href="/assets/js/66.1cee9f22.js"><link rel="prefetch" href="/assets/js/67.781a822c.js"><link rel="prefetch" href="/assets/js/68.a315b608.js"><link rel="prefetch" href="/assets/js/69.77ac2b4d.js"><link rel="prefetch" href="/assets/js/7.3a8d1d45.js"><link rel="prefetch" href="/assets/js/70.134e8387.js"><link rel="prefetch" href="/assets/js/71.624b9e5a.js"><link rel="prefetch" href="/assets/js/72.bcd21ff3.js"><link rel="prefetch" href="/assets/js/73.6e92a9de.js"><link rel="prefetch" href="/assets/js/74.5c24a90e.js"><link rel="prefetch" href="/assets/js/75.c95e5bbc.js"><link rel="prefetch" href="/assets/js/76.a7f85759.js"><link rel="prefetch" href="/assets/js/77.275c3ea1.js"><link rel="prefetch" href="/assets/js/78.1803dbce.js"><link rel="prefetch" href="/assets/js/79.2af857ae.js"><link rel="prefetch" href="/assets/js/8.901d5e42.js"><link rel="prefetch" href="/assets/js/80.f3166d46.js"><link rel="prefetch" href="/assets/js/81.42908833.js"><link rel="prefetch" href="/assets/js/82.6eaf70ab.js"><link rel="prefetch" href="/assets/js/83.c4188d10.js"><link rel="prefetch" href="/assets/js/84.d643daf4.js"><link rel="prefetch" href="/assets/js/85.35a118bc.js"><link rel="prefetch" href="/assets/js/86.c29bf5c7.js"><link rel="prefetch" href="/assets/js/87.7e6283b4.js"><link rel="prefetch" href="/assets/js/88.6b589c7d.js"><link rel="prefetch" href="/assets/js/89.d6f9cb3d.js"><link rel="prefetch" href="/assets/js/9.eaa9cbc9.js"><link rel="prefetch" href="/assets/js/90.0c6cee8e.js"><link rel="prefetch" href="/assets/js/91.ce578ce9.js"><link rel="prefetch" href="/assets/js/92.3cb2a38f.js"><link rel="prefetch" href="/assets/js/93.45eec982.js"><link rel="prefetch" href="/assets/js/94.6e07b1bc.js"><link rel="prefetch" href="/assets/js/95.a2cc192c.js"><link rel="prefetch" href="/assets/js/96.f292a498.js"><link rel="prefetch" href="/assets/js/97.2d476185.js"><link rel="prefetch" href="/assets/js/98.b24dcd05.js"><link rel="prefetch" href="/assets/js/99.9a474b8e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b4f5acd1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo-color.png" alt="软件架构探索：The Fenix Project" class="logo"> <span class="site-name can-hide">软件架构探索：The Fenix Project</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="代码" class="dropdown-title"><span class="title">代码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/awesome-fenix" target="_blank" rel="noopener noreferrer" class="nav-link external">
  文档工程 Awesome-Fenix
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/fenix-bookstore-frontend" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端工程 Fenix's Bookstore
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://bookstore.icyfenix.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端工程在线示例 Fenix's Bookstore
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/monolithic_arch_springboot" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：单体架构 Spring Boot
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/microservice_arch_springcloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Spring Cloud
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/microservice_arch_kubernetes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Kubernetes
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/servicemesh_arch_istio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Istio
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/serverless_arch_awslambda" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：无服务架构 AWS Lambda
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://raw.githubusercontent.com/fenixsoft/awesome-fenix/gh-pages/pdf/the-fenix-project.pdf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PDF下载
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/board.html" class="nav-link">
  讨论区
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="代码" class="dropdown-title"><span class="title">代码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/awesome-fenix" target="_blank" rel="noopener noreferrer" class="nav-link external">
  文档工程 Awesome-Fenix
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/fenix-bookstore-frontend" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端工程 Fenix's Bookstore
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://bookstore.icyfenix.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端工程在线示例 Fenix's Bookstore
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/monolithic_arch_springboot" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：单体架构 Spring Boot
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/microservice_arch_springcloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Spring Cloud
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/microservice_arch_kubernetes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Kubernetes
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/servicemesh_arch_istio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：微服务架构 Istio
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fenixsoft/serverless_arch_awslambda" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端：无服务架构 AWS Lambda
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://raw.githubusercontent.com/fenixsoft/awesome-fenix/gh-pages/pdf/the-fenix-project.pdf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PDF下载
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/board.html" class="nav-link">
  讨论区
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/summary/" class="sidebar-link">目录</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前言</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/introduction/about-me.html" class="sidebar-link">✔️ 关于作者</a></li><li><a href="/introduction/about-the-fenix-project.html" class="sidebar-link">✔️ 什么是“The Fenix Project”</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>探索起步</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>阅读指引</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/changelog/" class="sidebar-link">✔️ 更新日志</a></li><li><a href="/exploration/guide/quick-start.html" class="sidebar-link">✔️ 如何开始</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/exploration/projects/" class="sidebar-heading clickable"><span>✔️ 技术演示工程</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/exploration/projects/fenix-bookstore-frontend.html" class="sidebar-link">✔️ 前端工程</a></li><li><a href="/exploration/projects/monolithic_arch_springboot.html" class="sidebar-link">✔️ 单体架构：Spring Boot</a></li><li><a href="/exploration/projects/microservice_arch_springcloud.html" class="sidebar-link">✔️ 微服务：Spring Cloud</a></li><li><a href="/exploration/projects/microservice_arch_kubernetes.html" class="sidebar-link">✔️ 微服务：Kubernetes</a></li><li><a href="/exploration/projects/servicemesh_arch_istio.html" class="sidebar-link">✔️ 服务网格：Istio</a></li><li><a href="/exploration/projects/serverless_arch.html" class="sidebar-link">✔️ 无服务：AWS Lambda</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>演进中的架构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/architecture/architect-history/" class="sidebar-heading clickable open"><span>✔️ 服务架构演进史</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architecture/architect-history/primitive-distribution.html" class="sidebar-link">✔️ 原始分布式时代</a></li><li><a href="/architecture/architect-history/monolithic.html" class="sidebar-link">✔️ 单体系统时代</a></li><li><a href="/architecture/architect-history/soa.html" class="sidebar-link">✔️ SOA时代</a></li><li><a href="/architecture/architect-history/microservices.html" class="sidebar-link">✔️ 微服务时代</a></li><li><a href="/architecture/architect-history/post-microservices.html" class="sidebar-link">✔️ 后微服务时代</a></li><li><a href="/architecture/architect-history/serverless.html" class="sidebar-link">✔️ 无服务时代</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>架构师的视角</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/architect-perspective/general-architecture/api-style/" class="sidebar-heading clickable open"><span>✔️ 远程访问</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architect-perspective/general-architecture/api-style/rpc.html" class="sidebar-link">✔️ 远程服务调用</a></li><li><a href="/architect-perspective/general-architecture/api-style/rest.html" class="sidebar-link">✔️ REST服务设计风格</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/architect-perspective/general-architecture/transaction/" class="sidebar-heading clickable"><span>✔️ 事务处理</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architect-perspective/general-architecture/transaction/local.html" class="sidebar-link">✔️ 本地事务</a></li><li><a href="/architect-perspective/general-architecture/transaction/global.html" class="sidebar-link">✔️ 全局事务</a></li><li><a href="/architect-perspective/general-architecture/transaction/share.html" class="sidebar-link">✔️ 共享事务</a></li><li><a href="/architect-perspective/general-architecture/transaction/distributed.html" class="sidebar-link">✔️ 分布式事务</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/architect-perspective/general-architecture/diversion-system/" class="sidebar-heading clickable"><span>✔️ 透明多级分流系统</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architect-perspective/general-architecture/diversion-system/client-cache.html" class="sidebar-link">✔️ 客户端缓存</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/dns-lookup.html" class="sidebar-link">✔️ 域名解析</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/transmission-optimization.html" class="sidebar-link">✔️ 传输链路</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/cdn.html" class="sidebar-link">✔️ 内容分发网络</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/load-balancing.html" class="sidebar-link">✔️ 负载均衡</a></li><li><a href="/architect-perspective/general-architecture/diversion-system/cache-middleware.html" class="sidebar-link">✔️ 缓存</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/architect-perspective/general-architecture/system-security/" class="sidebar-heading clickable"><span>✔️ 安全架构</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architect-perspective/general-architecture/system-security/authentication.html" class="sidebar-link">✔️ 认证</a></li><li><a href="/architect-perspective/general-architecture/system-security/authorization.html" class="sidebar-link">✔️ 授权</a></li><li><a href="/architect-perspective/general-architecture/system-security/credentials.html" class="sidebar-link">✔️ 凭证</a></li><li><a href="/architect-perspective/general-architecture/system-security/confidentiality.html" class="sidebar-link">✔️ 保密</a></li><li><a href="/architect-perspective/general-architecture/system-security/transport-security.html" class="sidebar-link">✔️ 传输</a></li><li><a href="/architect-perspective/general-architecture/system-security/verification.html" class="sidebar-link">✔️ 验证</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>分布式的基石</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/consensus/" class="sidebar-heading clickable open"><span>✔️ 分布式共识算法</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/consensus/paxos.html" class="sidebar-link">✔️ Paxos</a></li><li><a href="/distribution/consensus/raft.html" class="sidebar-link">✔️ Multi Paxos与Raft</a></li><li><a href="/distribution/consensus/gossip.html" class="sidebar-link">✔️ Gossip协议</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/connect/" class="sidebar-heading clickable"><span>✔️ 从类库到服务</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/connect/service-discovery.html" class="sidebar-link">✔️ 服务发现</a></li><li><a href="/distribution/connect/service-routing.html" class="sidebar-link">✔️ 网关路由</a></li><li><a href="/distribution/connect/load-balancing.html" class="sidebar-link">✔️ 客户端负载均衡</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/traffic-management/" class="sidebar-heading clickable"><span>✔️ 服务与流量治理</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/traffic-management/failure.html" class="sidebar-link">✔️ 服务容错</a></li><li><a href="/distribution/traffic-management/traffic-control.html" class="sidebar-link">✔️ 流量控制</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/secure/" class="sidebar-heading clickable"><span>✔️ 可靠通讯</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/secure/zero-trust.html" class="sidebar-link">✔️ 零信任网络</a></li><li><a href="/distribution/secure/service-security.html" class="sidebar-link">✔️ 服务安全</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/distribution/observability/" class="sidebar-heading clickable"><span>✔️ 可观测性</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/distribution/observability/logging.html" class="sidebar-link">✔️ 事件日志</a></li><li><a href="/distribution/observability/tracing.html" class="sidebar-link">✔️ 链路追踪</a></li><li><a href="/distribution/observability/metrics.html" class="sidebar-link">✔️ 聚合度量</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>不可变基础设施</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/history.html" class="sidebar-link">虚拟化的概念与历史</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/container/" class="sidebar-heading clickable"><span>虚拟化容器</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/container/cri.html" class="sidebar-link">CRI接口</a></li><li><a href="/immutable-infrastructure/container/resource-isolation.html" class="sidebar-link">资源隔离</a></li><li><a href="/immutable-infrastructure/container/resource.html" class="sidebar-link">资源对象</a></li><li><a href="/immutable-infrastructure/container/manage.html" class="sidebar-link">容器管理</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/network/" class="sidebar-heading clickable"><span>容器间网络</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/network/cni.html" class="sidebar-link">CNI接口</a></li><li><a href="/immutable-infrastructure/network/strategy.html" class="sidebar-link">网络策略</a></li><li><a href="/immutable-infrastructure/network/plugin.html" class="sidebar-link">网络插件</a></li><li><a href="/immutable-infrastructure/network/container-lb.html" class="sidebar-link">容器负载均衡</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/storage/" class="sidebar-heading clickable"><span>配置与数据持久化</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/storage/csi.html" class="sidebar-link">CSI接口</a></li><li><a href="/immutable-infrastructure/storage/dfs.html" class="sidebar-link">分布式文件系统</a></li><li><a href="/immutable-infrastructure/storage/storage-plugins.html" class="sidebar-link">共享存储插件</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/gpu/" class="sidebar-heading clickable"><span>GPU虚拟化</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/gpu/device-plugin.html" class="sidebar-link">Device Plugin机制</a></li><li><a href="/immutable-infrastructure/gpu/gpu-schedule.html" class="sidebar-link">调度GPU</a></li><li><a href="/immutable-infrastructure/gpu/nvidia.html" class="sidebar-link">Nvidia插件</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/immutable-infrastructure/extension/" class="sidebar-heading clickable"><span>扩展基础设施</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/immutable-infrastructure/extension/crd.html" class="sidebar-link">CRD定义</a></li><li><a href="/immutable-infrastructure/extension/api-server.html" class="sidebar-link">自定义API Server</a></li></ul></section></li><li><a href="/immutable-infrastructure/hardware-schedule.html" class="sidebar-link">硬件资源调度</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>技术方法论</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/methodology/forward-msa/" class="sidebar-heading clickable open"><span>✔️ 向微服务迈进</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/methodology/forward-msa/objective.html" class="sidebar-link">✔️ 目的：为什么要微服务</a></li><li><a href="/methodology/forward-msa/prerequest.html" class="sidebar-link">✔️ 前提：微服务需要的条件</a></li><li><a href="/methodology/forward-msa/granularity.html" class="sidebar-link">✔️ 边界：微服务的粒度</a></li><li><a href="/methodology/forward-msa/governance.html" class="sidebar-link">✔️ 治理：理解系统复杂性</a></li><li><a href="/methodology/forward-msa/measurement.html" class="sidebar-link">度量：以结果驱动开发</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>技巧与专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/tricks/graalvm/" class="sidebar-heading clickable open"><span>✔️ Graal VM</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tricks/graalvm/graal-compiler.html" class="sidebar-link">✔️ 新一代即时编译器</a></li><li><a href="/tricks/graalvm/substratevm.html" class="sidebar-link">✔️ 向原生迈进</a></li><li><a href="/tricks/graalvm/graalvm-native.html" class="sidebar-link">✔️ 没有虚拟机的Java</a></li><li><a href="/tricks/graalvm/spring-over-graal.html" class="sidebar-link">✔️ Spring over Graal</a></li></ul></section></li><li><a href="/tricks/responsive-programming.html" class="sidebar-link">响应式编程</a></li><li><a href="/tricks/lambda-stream.html" class="sidebar-link">函数式接口与流式编程思想</a></li><li><a href="/tricks/aio.html" class="sidebar-link">并行、异步、非阻塞</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>附录</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/appendix/build-script.html" class="sidebar-link">构建发布脚本</a></li><li><a href="/appendix/continuous-integration.html" class="sidebar-link">持续集成</a></li><li><a href="/appendix/gated-launch.html" class="sidebar-link">灰度发布</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/appendix/deployment-env-setup/" class="sidebar-heading clickable router-link-active open"><span>✔️ 环境依赖</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/appendix/deployment-env-setup/setup-docker.html" class="active sidebar-link">✔️ 部署Docker CE容器环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/appendix/deployment-env-setup/setup-docker.html#移除旧版本docker" class="sidebar-link">移除旧版本Docker</a></li><li class="sidebar-sub-header"><a href="/appendix/deployment-env-setup/setup-docker.html#安装docker依赖工具链及软件源" class="sidebar-link">安装Docker依赖工具链及软件源</a></li><li class="sidebar-sub-header"><a href="/appendix/deployment-env-setup/setup-docker.html#更新系统软件仓库" class="sidebar-link">更新系统软件仓库</a></li><li class="sidebar-sub-header"><a href="/appendix/deployment-env-setup/setup-docker.html#安装docker-engine-community" class="sidebar-link">安装Docker-Engine Community</a></li><li class="sidebar-sub-header"><a href="/appendix/deployment-env-setup/setup-docker.html#确认docker安装是否成功" class="sidebar-link">确认Docker安装是否成功</a></li><li class="sidebar-sub-header"><a href="/appendix/deployment-env-setup/setup-docker.html#配置国内镜像库" class="sidebar-link">配置国内镜像库</a></li><li class="sidebar-sub-header"><a href="/appendix/deployment-env-setup/setup-docker.html#为docker设置代理" class="sidebar-link">为Docker设置代理</a></li><li class="sidebar-sub-header"><a href="/appendix/deployment-env-setup/setup-docker.html#开放docker远程服务" class="sidebar-link">开放Docker远程服务</a></li><li class="sidebar-sub-header"><a href="/appendix/deployment-env-setup/setup-docker.html#启用docker命令行自动补全功能" class="sidebar-link">启用Docker命令行自动补全功能</a></li><li class="sidebar-sub-header"><a href="/appendix/deployment-env-setup/setup-docker.html#将docker设置为开机启动" class="sidebar-link">将Docker设置为开机启动</a></li><li class="sidebar-sub-header"><a href="/appendix/deployment-env-setup/setup-docker.html#安装docker-compose" class="sidebar-link">安装Docker-Compose</a></li><li class="sidebar-sub-header"><a href="/appendix/deployment-env-setup/setup-docker.html#卸载docker" class="sidebar-link">卸载Docker</a></li></ul></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/appendix/deployment-env-setup/setup-kubernetes/" class="sidebar-heading clickable"><span>✔️ 部署Kubernetes集群</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/appendix/operation-env-setup/" class="sidebar-heading clickable"><span>运维环境</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="部署docker-ce容器环境">部署Docker CE容器环境</h1> <p>本文为Linux系统安装Docker容器环境的简要说明，主要包括：</p> <ol><li>安装稳定最新发行版（Stable Release）的命令及含义。</li> <li>针对国内网络环境的必要镜像加速或者代理设置工作。</li></ol> <p>若需了解Docker安装其他方面的内容，如安装Nightly/Test版本、Backporting、软件版权和支持等信息，可参考官方的部署指南：<a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/install/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>文中涉及到的Debian系和Redhat系的包管理工具，主要包括：</p> <ul><li>Debian系：Debian、Ubuntu、Deepin、Mint</li> <li>Redhat系：RHEL、Fedora、CentOS</li></ul> <p>如用的其他Linux发行版，如Gentoo、Archlinux、OpenSUSE等，建议自行安装二进制包。</p> <h2 id="移除旧版本docker">移除旧版本Docker</h2> <p>如果以前已经安装过旧版本的Docker（可能会被称为docker，docker.io 或 docker-engine），需先行卸载。</p> <blockquote><p>Debian系：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> remove docker docker-engine docker.io containerd runc docker-ce docker-ce-cli containerd.io
</code></pre></div><p>RedHat系：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> yum remove docker <span class="token punctuation">\</span>
                  docker-client <span class="token punctuation">\</span>
                  docker-client-latest <span class="token punctuation">\</span>
                  docker-common <span class="token punctuation">\</span>
                  docker-latest <span class="token punctuation">\</span>
                  docker-latest-logrotate <span class="token punctuation">\</span>
                  docker-logrotate <span class="token punctuation">\</span>
                  docker-engine
</code></pre></div></blockquote> <h2 id="安装docker依赖工具链及软件源">安装Docker依赖工具链及软件源</h2> <p>在Debian上主要是为了apt能够正确使用HTTPS协议，并将Docker官方的GPG Key（GNU Privacy Guard，包的签名机制）和软件源地址注册到软件源中。</p> <p>在RHEL上是为了devicemapper获得yum-config-manager、device-mapper-persistent-data、lvm2的支持。</p> <blockquote><p>Debian系：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> apt-transport-https <span class="token punctuation">\</span>
                       ca-certificates <span class="token punctuation">\</span>
                       <span class="token function">curl</span> <span class="token punctuation">\</span>
                       software-properties-common

<span class="token comment"># 注册Docker官方GPG公钥</span>
$ <span class="token function">sudo</span> <span class="token function">curl</span> -fsSL https://download.docker.com/linux/debian/gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -

<span class="token comment"># 检查Docker官方GPG公钥指纹是否正确</span>
$ <span class="token function">sudo</span> apt-key fingerprint 0EBFCD88

pub   4096R/0EBFCD88 <span class="token number">2017</span>-02-22
      Key fingerprint <span class="token operator">=</span> 9DC8 <span class="token number">5822</span> 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88
uid                  Docker Release <span class="token punctuation">(</span>CE deb<span class="token punctuation">)</span> <span class="token operator">&lt;</span>docker@docker.com<span class="token operator">&gt;</span>
sub   4096R/F273FCD8 <span class="token number">2017</span>-02-22

<span class="token comment"># 将Docker地址注册到软件源中</span>
<span class="token comment"># 注意$(lsb_release -cs)是返回当前发行版的版本代号，例如Ubuntu 18.04是bionic，19.10是eoan</span>
<span class="token comment"># 但在Ubuntu 19.10发布一段时间后，Docker官方并未在源地址中增加eoan目录，导致此命令安装失败，日后在最新的系统上安装Docker，需要注意排查此问题，手动更改版本代号完成安装</span>
$ <span class="token function">sudo</span> add-apt-repository <span class="token punctuation">\</span>
    <span class="token string">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
    <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> \
    stable&quot;</span>
</code></pre></div><p>RedHat系：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils <span class="token punctuation">\</span>
                      device-mapper-persistent-data <span class="token punctuation">\</span>
                      lvm2

<span class="token comment"># 将Docker地址注册到软件源中</span>
$ <span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span>
       --add-repo <span class="token punctuation">\</span>
       https://download.docker.com/linux/centos/docker-ce.repo
</code></pre></div></blockquote> <h2 id="更新系统软件仓库">更新系统软件仓库</h2> <blockquote><p>Debian系：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> update
</code></pre></div><p>RedHat系：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> yum update
</code></pre></div></blockquote> <h2 id="安装docker-engine-community">安装Docker-Engine Community</h2> <blockquote><p>Debian系：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
</code></pre></div><p>RedHat系：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
</code></pre></div></blockquote> <h2 id="确认docker安装是否成功">确认Docker安装是否成功</h2> <p>直接运行官方的hello-world镜像测试安装是否成功</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> docker run hello-world
</code></pre></div><h2 id="配置国内镜像库">配置国内镜像库 <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>可选</span></h2> <p>由于Docker官方镜像在国内访问缓慢，官方提供了在国内的镜像库：<a href="https://registry.docker-cn.com" target="_blank" rel="noopener noreferrer">https://registry.docker-cn.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，以加快访问速度（但其实体验也并不快）。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 该配置文件及目录，在Docker安装后并不会自动创建</span>
$ <span class="token function">sudo</span> <span class="token function">mkdir</span> -p /etc/docker

<span class="token comment"># 配置加速地址</span>
$ <span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">'EOF'
{
   &quot;registry-mirrors&quot;: [&quot;https://registry.docker-cn.com&quot;]
}
EOF</span>

<span class="token comment"># 重启服务</span>
$ <span class="token function">sudo</span> systemctl daemon-reload
$ <span class="token function">sudo</span> systemctl restart docker
</code></pre></div><blockquote><p><strong>注意</strong></p> <p>以上操作有两点提醒读者重点关注：</p> <ol><li>必须保证daemon.json文件中完全符合JSON格式，如果错了，Docker不会给提示，直接起不来。</li> <li>如果Docker是作为systemd管理的服务的，daemon.json文件会处于锁定状态，应先关闭后再修改配置；</li></ol></blockquote> <p>这两点出了问题都会导致Docker服务直接无法启动，如果出现该情况，可以通过systemd status命令检查，看是否有类似如下的错误提示：</p> <div class="language-bash extra-class"><pre class="language-bash"><code> Drop-In: /etc/systemd/system/docker.service.d
           └─mirror.conf
   Active: inactive <span class="token punctuation">(</span>dead<span class="token punctuation">)</span> <span class="token punctuation">(</span>Result: exit-code<span class="token punctuation">)</span> since 五 <span class="token number">2017</span>-09-15 <span class="token number">13</span>:25:28 CST<span class="token punctuation">;</span> 7min ago
     Docs: https://docs.docker.com
 Main PID: <span class="token number">21151</span> <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">1</span>/FAILURE<span class="token punctuation">)</span>
</code></pre></div><p>如果是，修改daemon.json后重新启动即可。另，关闭systemd服务的方法是：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl stop docker
$ <span class="token function">sudo</span> <span class="token function">rm</span> -rf /etc/systemd/system/docker.service.d
</code></pre></div><p>最后，Docker的官方国内镜像库的速度只能说比起访问国外好了一丢丢，聊胜于无。国内还有一些公开的镜像库，如微软的、网易的等，但要么是不稳定，要么也是慢。比较靠谱的是阿里云的镜像库，但这个服务并不是公开的，需要使用者先到阿里云去申请开发者账户，再使用加速服务，申请后会得一个类似于“https://yourname.mirror.aliyuncs.com”的私有地址，把它设置到daemon.json中即可使用。</p> <h2 id="为docker设置代理">为Docker设置代理 <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>可选</span></h2> <p>另外一种解决Docker镜像下载速度慢的方案就是使用代理，Docker的代理可以直接读取系统的全局代理，即系统中的HTTP_PROXY、HTTPS_PROXY两个环境变量。不过，如果设置这两个变量，其他大量Linux下的其他工具也会受到影响，所以建议的方式是给Docker服务设置专有的环境变量，我们使用Systemd来管理Docker服务，那直接给这个服务设置一个额外配置即可，操作如下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /etc/systemd/system/docker.service.d

<span class="token comment"># 配置代理地址，支持http、https、socks、socks5等协议</span>
$ <span class="token function">sudo</span> <span class="token function">tee</span> /etc/systemd/system/docker.service.d/http-proxy.conf <span class="token operator">&lt;&lt;-</span><span class="token string">'EOF'
[Service]
Environment=&quot;HTTP_PROXY=socks5://192.168.31.125:2012&quot;
EOF</span>

<span class="token comment">#重启docker</span>
$ <span class="token function">sudo</span> systemctl restart docker
</code></pre></div><p>设置后可以通过systemctl检查一下环境变量，看看是否有设置成功：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ systemctl show --property<span class="token operator">=</span>Environment docker
</code></pre></div><p>输出：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">Environment</span><span class="token operator">=</span>HTTP_PROXY<span class="token operator">=</span>socks5://192.168.31.125:2012
</code></pre></div><h2 id="开放docker远程服务">开放Docker远程服务 <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>可选</span></h2> <p>如果需要在其他机器上管理Docker——譬如典型的如在IntelliJ IDEA这类IDE环境中给远程Docker部署镜像，那可以开启Docker的远程管理端口，这步没有设置任何安全访问措施，请不要在生产环境中进行。</p> <p>具体做法是修改Docker的服务配置：</p> <blockquote><p>Debian系：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">vim</span> /lib/systemd/system/docker.service
</code></pre></div><p>RedHat系：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">vim</span> /usr/lib/systemd/system/docker.service
</code></pre></div></blockquote> <p>在ExexStart后面增加以下参数（2375端口可以自定义）：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>-H tcp://0.0.0.0:2375 -H unix://var/run/docker.sock
</code></pre></div><p>譬如，默认安装完Docker，修改之后完整的ExexStart应当如下所示：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/dockerd -H fd:// --containerd<span class="token operator">=</span>/run/containerd/containerd.sock -H tcp://0.0.0.0:2375 -H unix://var/run/docker.sock
</code></pre></div><p>最后重启Docker服务即可：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#重启docker</span>
$ <span class="token function">sudo</span> systemctl daemon-reload
$ <span class="token function">sudo</span> systemctl restart docker
</code></pre></div><h2 id="启用docker命令行自动补全功能">启用Docker命令行自动补全功能 <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>可选</span></h2> <p>在控制台输入docker命令时可以获得自动补全能力，提高效率。</p> <p>Docker自带了bash的命令行补全，用其他shell，如zsh，则需采用zsh的插件或者自行获取补全信息</p> <blockquote><p>bash：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">'source /usr/share/bash-completion/completions/docker'</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
</code></pre></div><p>zsh：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">mkdir</span> -p ~/.zsh/completion
$ <span class="token function">curl</span> -L https://raw.githubusercontent.com/docker/cli/master/contrib/completion/zsh/_docker <span class="token operator">&gt;</span> ~/.zsh/completion/_docker

$ <span class="token builtin class-name">echo</span> <span class="token string">'fpath=(~/.zsh/completion <span class="token variable">$fpath</span>)'</span> <span class="token operator">&gt;&gt;</span> ~/.zshrc
$ <span class="token builtin class-name">echo</span> <span class="token string">'autoload -Uz compinit &amp;&amp; compinit -u'</span> <span class="token operator">&gt;&gt;</span> ~/.zshrc
</code></pre></div></blockquote> <h2 id="将docker设置为开机启动">将Docker设置为开机启动 <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>可选</span></h2> <p>一般使用systemd来管理启动状态</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 设置为开机启动</span>
$ <span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> docker

<span class="token comment"># 立刻启动Docker服务</span>
$ <span class="token function">sudo</span> systemctl start docker
</code></pre></div><h2 id="安装docker-compose">安装Docker-Compose</h2> <p>在开发和部署微服务应用时，经常要使用Docker-Compose来组织多个镜像，对于Windows系统它是默认安装的，在Linux下需要另外下载一下，下载后直接扔到bin目录，加上执行权限即可使用</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 从GitHub下载</span>
<span class="token function">sudo</span> <span class="token function">curl</span> -L <span class="token string">&quot;https://github.com/docker/compose/releases/download/1.25.5/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -s<span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span>&quot;</span> -o /usr/local/bin/docker-compose
<span class="token comment"># 从国内镜像下载</span>
<span class="token function">sudo</span> <span class="token function">curl</span> -L <span class="token string">&quot;https://get.daocloud.io/docker/compose/releases/download/1.25.5/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -s<span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span>&quot;</span> -o /usr/local/bin/docker-compose

<span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose
</code></pre></div><h2 id="卸载docker">卸载Docker</h2> <blockquote><p>Debian系：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> purge docker-ce

<span class="token comment"># 清理Docker容器缓存和自定义配置</span>
$ <span class="token function">sudo</span> <span class="token function">rm</span> -rf /var/lib/docker
</code></pre></div><p>RedHat系：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> yum remove docker-ce

<span class="token comment"># 清理Docker容器缓存和自定义配置</span>
$ <span class="token function">sudo</span> <span class="token function">rm</span> -rf /var/lib/docker
</code></pre></div></blockquote></div> <footer class="page-edit"><!----> <div class="git-hub-star"><span class="prefix">
      Kudos to
      <span style="position:relative;top:4px;right:-4px;"><a href="https://github.com/fenixsoft/awesome-fenix" aria-label="Star fenixsoft/awesome-fenix on GitHub" data-icon="octicon-star" data-show-count="true">
      Star
    </a></span></span></div> <div class="last-updated"><span class="prefix">总字数:</span> <span class="words">2,123</span> <span class="prefix">字　</span> <span class="prefix">最后更新:</span> <span class="time">5/27/2020, 11:26:08 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
    ←
    <a href="/appendix/deployment-env-setup/" class="prev router-link-active">
       环境依赖
    </a></span> <span class="next"><a href="/appendix/deployment-env-setup/setup-kubernetes/">
       部署Kubernetes集群
    </a>
    →
  </span></p></div> </main></div><div class="global-ui"><div></div><!----></div></div>
    <script src="/assets/js/app.97da9423.js" defer></script><script src="/assets/js/3.0e72994b.js" defer></script><script src="/assets/js/5.51fe641f.js" defer></script><script src="/assets/js/57.a009044c.js" defer></script><script src="/assets/js/32.11110fd7.js" defer></script>
  </body>
</html>
